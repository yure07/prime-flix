{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/rafae/OneDrive/\\xC1rea de Trabalho/REACT/myapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/rafae/OneDrive/\\xC1rea de Trabalho/REACT/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/rafae/OneDrive/\\xC1rea de Trabalho/REACT/myapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Navigate}from\"react-router-dom\";import{useEffect,useState}from\"react\";import{onAuthStateChanged}from'firebase/auth';import{auth}from'../../firebaseConnection';//   o que tem dentro da tag 'Private' (admin) - parametro passado\nimport{jsx as _jsx}from\"react/jsx-runtime\";function Private(_ref){var children=_ref.children;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];// começa a veirificação de usuário\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),sigIn=_useState4[0],setSigIn=_useState4[1];// confirma se há usuário logado\nuseEffect(function(){function checkLogin(_x){return _checkLogin.apply(this,arguments);}function _checkLogin(){_checkLogin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(user){var userOnline;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:userOnline=onAuthStateChanged(auth,function(user){if(user){// se há usuário -->\nvar userData={uid:user.uid,email:user.email};var json=JSON.stringify(userData);localStorage.setItem('@detailsUser',json);setLoading(false);// pare a execução\nsetSigIn(true);// passa a ser true, há usuário\n}else{// se não há usuário -->\nsetLoading(false);setSigIn(false);// não há usuário\n}});case 1:case\"end\":return _context.stop();}},_callee);}));return _checkLogin.apply(this,arguments);}checkLogin();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{});}if(!sigIn){// se não há usuário logado, navegue-o para home\nreturn/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}return children;}export default Private;","map":{"version":3,"names":["Navigate","useEffect","useState","onAuthStateChanged","auth","Private","children","loading","setLoading","sigIn","setSigIn","checkLogin","user","userOnline","userData","uid","email","json","JSON","stringify","localStorage","setItem"],"sources":["C:/Users/rafae/OneDrive/Área de Trabalho/REACT/myapp/src/pages/Admin/Private.js"],"sourcesContent":["import { Navigate } from \"react-router-dom\"\r\nimport { useEffect, useState } from \"react\"\r\nimport {onAuthStateChanged} from 'firebase/auth'\r\nimport {auth} from '../../firebaseConnection'\r\n\r\n//   o que tem dentro da tag 'Private' (admin) - parametro passado\r\nfunction Private ( {children} ) {\r\n  const [loading, setLoading] = useState(true) // começa a veirificação de usuário\r\n  const [sigIn, setSigIn] = useState(false) // confirma se há usuário logado\r\n\r\n  useEffect(()=>{\r\n    async function checkLogin(user){\r\n        const userOnline = onAuthStateChanged(auth, (user)=>{\r\n            if(user){ // se há usuário -->\r\n                const userData = {\r\n                    uid: user.uid,\r\n                    email: user.email\r\n                }\r\n                const json = JSON.stringify(userData)\r\n                localStorage.setItem('@detailsUser', json)\r\n                setLoading(false) // pare a execução\r\n                setSigIn(true) // passa a ser true, há usuário\r\n\r\n            } else { // se não há usuário -->\r\n                setLoading(false)\r\n                setSigIn(false) // não há usuário\r\n            }\r\n        })\r\n    }\r\n    checkLogin()\r\n  },[])\r\n\r\n  if(loading){\r\n    return(\r\n        <div></div>\r\n    )\r\n  }\r\n  if(!sigIn){ // se não há usuário logado, navegue-o para home\r\n     return <Navigate to='/'/>\r\n    \r\n  }\r\n    return children\r\n}\r\n\r\nexport default Private"],"mappings":"ubAAA,OAASA,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAAQC,kBAAkB,KAAO,eAAe,CAChD,OAAQC,IAAI,KAAO,0BAA0B,CAE7C;AAAA,2CACA,QAASC,QAAO,MAAgB,IAAZC,SAAQ,MAARA,QAAQ,CAC1B,cAA8BJ,QAAQ,CAAC,IAAI,CAAC,wCAArCK,OAAO,eAAEC,UAAU,eAAmB;AAC7C,eAA0BN,QAAQ,CAAC,KAAK,CAAC,yCAAlCO,KAAK,eAAEC,QAAQ,eAAoB;AAE1CT,SAAS,CAAC,UAAI,SACGU,WAAU,4IAAzB,iBAA0BC,IAAI,kIACpBC,UAAU,CAAGV,kBAAkB,CAACC,IAAI,CAAE,SAACQ,IAAI,CAAG,CAChD,GAAGA,IAAI,CAAC,CAAE;AACN,GAAME,SAAQ,CAAG,CACbC,GAAG,CAAEH,IAAI,CAACG,GAAG,CACbC,KAAK,CAAEJ,IAAI,CAACI,KAChB,CAAC,CACD,GAAMC,KAAI,CAAGC,IAAI,CAACC,SAAS,CAACL,QAAQ,CAAC,CACrCM,YAAY,CAACC,OAAO,CAAC,cAAc,CAAEJ,IAAI,CAAC,CAC1CT,UAAU,CAAC,KAAK,CAAC,CAAC;AAClBE,QAAQ,CAAC,IAAI,CAAC,CAAC;AAEnB,CAAC,IAAM,CAAE;AACLF,UAAU,CAAC,KAAK,CAAC,CACjBE,QAAQ,CAAC,KAAK,CAAC,CAAC;AACpB,CACJ,CAAC,CAAC,sDACL,6CACDC,UAAU,EAAE,CACd,CAAC,CAAC,EAAE,CAAC,CAEL,GAAGJ,OAAO,CAAC,CACT,mBACI,cAAW,CAEjB,CACA,GAAG,CAACE,KAAK,CAAC,CAAE;AACT,mBAAO,KAAC,QAAQ,EAAC,EAAE,CAAC,GAAG,EAAE,CAE5B,CACE,MAAOH,SAAQ,CACnB,CAEA,cAAeD,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}