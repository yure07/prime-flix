{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rafae\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\prime-flix\\\\src\\\\pages\\\\Filme\\\\index.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport api from '../../serivces/api';\nimport './details.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Filme() {\n  _s();\n  const [movies, setMovies] = useState({});\n  const [loading, setLoading] = useState(true);\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  useEffect(() => {\n    async function loadmovies() {\n      await api.get(`/movie/${id}`, {\n        params: {\n          language: 'pt-BR',\n          api_key: '075681d71111b09a6aa94162477e44a0'\n        }\n      }).then(response => {\n        setMovies(response.data);\n        console.log(response.data);\n        setLoading(false);\n      }).catch(() => {\n        navigate(\"/\", {\n          replace: true\n        });\n      });\n    }\n    loadmovies();\n  }, [navigate, id]);\n  function saveMovie() {\n    const mylist = localStorage.getItem(\"@primeflix\");\n    let moviesSaved = JSON.parse(mylist) || [];\n    const hasMovies = moviesSaved.some(moviesSaved => moviesSaved.id === movies.id);\n    if (hasMovies) {\n      toast.warn(\"Esse Filme Já Está Na Lista\");\n      return;\n    }\n    moviesSaved.push(movies);\n    localStorage.setItem(\"@primeflix\", JSON.stringify(moviesSaved));\n    toast.success(\"Esse Filme Foi Salvo\");\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"load-movies\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Carregando Detalhes...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"load-movies\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: movies.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: `https://image.tmdb.org/t/p/original/${movies.backdrop_path}`,\n      alt: movies.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Sinopse\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: movies.overview\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n      children: [\"Avalia\\xE7\\xE3o \", movies.vote_average.toFixed(1), \" / 10\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: saveMovie,\n        children: \"Salvar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: `https://youtube.com/results?search_query=${movies.title} Trailer`,\n          target: \"blank\",\n          children: \" Trailer \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 3\n  }, this);\n}\n_s(Filme, \"0TZKNGAbC36q/PjFu8w4S1L+83Y=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Filme;\nexport default Filme;\nvar _c;\n$RefreshReg$(_c, \"Filme\");","map":{"version":3,"names":["useEffect","useState","useParams","useNavigate","toast","api","Filme","movies","setMovies","loading","setLoading","id","navigate","loadmovies","get","params","language","api_key","then","response","data","console","log","catch","replace","saveMovie","mylist","localStorage","getItem","moviesSaved","JSON","parse","hasMovies","some","warn","push","setItem","stringify","success","title","backdrop_path","overview","vote_average","toFixed"],"sources":["C:/Users/rafae/OneDrive/Área de Trabalho/prime-flix/src/pages/Filme/index.js"],"sourcesContent":["import {useEffect, useState,} from 'react'\r\nimport {useParams,useNavigate} from 'react-router-dom'\r\nimport {toast} from 'react-toastify'\r\nimport api from '../../serivces/api'\r\nimport './details.css'\r\n\r\nfunction Filme () {\r\n  const [movies, setMovies] = useState({})\r\n  const [loading, setLoading] = useState(true)\r\n  const {id} = useParams()\r\n  const navigate = useNavigate()\r\n\r\n  useEffect(()=>{\r\n    async function loadmovies() {\r\n      await api.get(`/movie/${id}`, {\r\n        params:{\r\n        language: 'pt-BR',\r\n        api_key: '075681d71111b09a6aa94162477e44a0',\r\n        }\r\n      })\r\n      .then((response) =>{\r\n        setMovies(response.data)\r\n        console.log(response.data)\r\n        setLoading(false)\r\n      })\r\n      .catch(()=>{\r\n        navigate(\"/\", {replace:true})\r\n      })\r\n    }\r\n    loadmovies()\r\n  },[navigate, id])\r\n\r\n  function saveMovie() {\r\n    const mylist = localStorage.getItem(\"@primeflix\");\r\n    \r\n    let moviesSaved = JSON.parse(mylist) || [];\r\n    \r\n    const hasMovies = moviesSaved.some( (moviesSaved )=> moviesSaved.id === movies.id);\r\n    \r\n    if(hasMovies) {\r\n      toast.warn(\"Esse Filme Já Está Na Lista\");\r\n      return;\r\n    }\r\n    moviesSaved.push(movies);\r\n    localStorage.setItem(\"@primeflix\", JSON.stringify(moviesSaved));\r\n    toast.success(\"Esse Filme Foi Salvo\");\r\n  }\r\n\r\n  if(loading) {\r\n    return(\r\n    <div className='load-movies'>\r\n      <h2>Carregando Detalhes...</h2>\r\n    </div>\r\n    )\r\n  }\r\n\r\n  return(\r\n  <div className='load-movies'> \r\n     <h1>{movies.title}</h1>\r\n     <img src={`https://image.tmdb.org/t/p/original/${movies.backdrop_path}`} \r\n     alt={movies.title}/>\r\n     <h3>Sinopse</h3>\r\n     <span>{movies.overview}</span>\r\n     <strong>Avaliação {movies.vote_average.toFixed(1)} / 10</strong>\r\n     \r\n    <div className='buttons'>\r\n     <button onClick={saveMovie}>Salvar</button>\r\n     <button>\r\n      <a href={`https://youtube.com/results?search_query=${movies.title} Trailer`}\r\n      target=\"blank\"> Trailer </a> \r\n     </button>\r\n    </div>\r\n  </div> \r\n    )\r\n  }\r\n  export default Filme"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}