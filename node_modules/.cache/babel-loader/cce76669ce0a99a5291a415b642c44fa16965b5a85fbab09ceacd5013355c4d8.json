{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rafae\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\REACT\\\\myapp\\\\src\\\\pages\\\\Admin\\\\Private.js\",\n  _s = $RefreshSig$();\nimport { Navigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth } from '../../firebaseConnection';\n\n//   o que tem dentro da tag 'Private' (admin) - parametro passado\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Private(_ref) {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [loading, setLoading] = useState(true); // começa a veirificação de usuário\n  const [sigIn, setSigIn] = useState(false); // confirma se há usuário logado\n\n  useEffect(() => {\n    async function checkLogin(user) {\n      const userOnline = onAuthStateChanged(auth, user => {\n        if (user) {\n          // se há usuário -->\n          const userData = {\n            uid: user.uid\n          };\n          const json = JSON.stringify(userData);\n          localStorage.setItem('@detailsUser', json);\n          setLoading(false); // pare a execução\n          setSigIn(true); // passa a ser true, há usuário\n        } else {\n          // se não há usuário -->\n          setLoading(false);\n          setSigIn(false); // não há usuário\n        }\n      });\n    }\n\n    checkLogin();\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this);\n  }\n  if (!sigIn) {\n    // se não há usuário logado, navegue-o para home\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this);\n  }\n  return children;\n}\n_s(Private, \"1gakEWAEPd5bt+3lVNm4zAitIps=\");\n_c = Private;\nexport default Private;\nvar _c;\n$RefreshReg$(_c, \"Private\");","map":{"version":3,"names":["Navigate","useEffect","useState","onAuthStateChanged","auth","Private","children","loading","setLoading","sigIn","setSigIn","checkLogin","user","userOnline","userData","uid","json","JSON","stringify","localStorage","setItem"],"sources":["C:/Users/rafae/OneDrive/Área de Trabalho/REACT/myapp/src/pages/Admin/Private.js"],"sourcesContent":["import { Navigate } from \"react-router-dom\"\r\nimport { useEffect, useState } from \"react\"\r\nimport {onAuthStateChanged} from 'firebase/auth'\r\nimport {auth} from '../../firebaseConnection'\r\n\r\n//   o que tem dentro da tag 'Private' (admin) - parametro passado\r\nfunction Private ( {children} ) {\r\n  const [loading, setLoading] = useState(true) // começa a veirificação de usuário\r\n  const [sigIn, setSigIn] = useState(false) // confirma se há usuário logado\r\n\r\n  useEffect(()=>{\r\n    async function checkLogin(user){\r\n        const userOnline = onAuthStateChanged(auth, (user)=>{\r\n            if(user){ // se há usuário -->\r\n                const userData = {\r\n                    uid: user.uid,\r\n                }\r\n                const json = JSON.stringify(userData)\r\n                localStorage.setItem('@detailsUser', json)\r\n                setLoading(false) // pare a execução\r\n                setSigIn(true) // passa a ser true, há usuário\r\n\r\n            } else { // se não há usuário -->\r\n                setLoading(false)\r\n                setSigIn(false) // não há usuário\r\n            }\r\n        })\r\n    }\r\n    checkLogin()\r\n  },[])\r\n\r\n  if(loading){\r\n    return(\r\n        <div></div>\r\n    )\r\n  }\r\n  if(!sigIn){ // se não há usuário logado, navegue-o para home\r\n     return <Navigate to='/'/>\r\n    \r\n  }\r\n    return children\r\n}\r\n\r\nexport default Private"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAAQC,kBAAkB,QAAO,eAAe;AAChD,SAAQC,IAAI,QAAO,0BAA0B;;AAE7C;AAAA;AACA,SAASC,OAAO,OAAgB;EAAA;EAAA,IAAb;IAACC;EAAQ,CAAC;EAC3B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC,EAAC;EAC7C,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC,EAAC;;EAE1CD,SAAS,CAAC,MAAI;IACZ,eAAeU,UAAU,CAACC,IAAI,EAAC;MAC3B,MAAMC,UAAU,GAAGV,kBAAkB,CAACC,IAAI,EAAGQ,IAAI,IAAG;QAChD,IAAGA,IAAI,EAAC;UAAE;UACN,MAAME,QAAQ,GAAG;YACbC,GAAG,EAAEH,IAAI,CAACG;UACd,CAAC;UACD,MAAMC,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAC;UACrCK,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEJ,IAAI,CAAC;UAC1CR,UAAU,CAAC,KAAK,CAAC,EAAC;UAClBE,QAAQ,CAAC,IAAI,CAAC,EAAC;QAEnB,CAAC,MAAM;UAAE;UACLF,UAAU,CAAC,KAAK,CAAC;UACjBE,QAAQ,CAAC,KAAK,CAAC,EAAC;QACpB;MACJ,CAAC,CAAC;IACN;;IACAC,UAAU,EAAE;EACd,CAAC,EAAC,EAAE,CAAC;EAEL,IAAGJ,OAAO,EAAC;IACT,oBACI;MAAA;MAAA;MAAA;IAAA,QAAW;EAEjB;EACA,IAAG,CAACE,KAAK,EAAC;IAAE;IACT,oBAAO,QAAC,QAAQ;MAAC,EAAE,EAAC;IAAG;MAAA;MAAA;MAAA;IAAA,QAAE;EAE5B;EACE,OAAOH,QAAQ;AACnB;AAAC,GAnCQD,OAAO;AAAA,KAAPA,OAAO;AAqChB,eAAeA,OAAO;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}